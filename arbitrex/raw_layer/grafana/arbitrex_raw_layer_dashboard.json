{
  "dashboard": {
    "id": null,
    "uid": "arbitrex-raw-layer",
    "title": "Arbitrex — Raw Layer",
    "timezone": "browser",
    "schemaVersion": 30,
    "version": 1,
    "refresh": "10s",
    "panels": [
      {
        "id": 1,
        "title": "Tick Ingestion Rate (per min)",
        "type": "timeseries",
        "gridPos": { "x": 0, "y": 0, "w": 12, "h": 6 },
        "targets": [ { "expr": "rate(arbitrex_raw_ticks_received_total[1m])", "refId": "A" } ]
      },
      {
        "id": 2,
        "title": "Tick Publish Rate (per min)",
        "type": "timeseries",
        "gridPos": { "x": 12, "y": 0, "w": 12, "h": 6 },
        "targets": [ { "expr": "rate(arbitrex_raw_ticks_published_total[1m])", "refId": "A" } ]
      },
      {
        "id": 3,
        "title": "Durable Queue Size (by symbol)",
        "type": "timeseries",
        "gridPos": { "x": 0, "y": 6, "w": 12, "h": 6 },
        "targets": [ { "expr": "arbitrex_raw_queue_size", "refId": "A" } ],
        "fieldConfig": { "defaults": { "unit": "none" } }
      },
      {
        "id": 4,
        "title": "Flush Duration (P95)",
        "type": "timeseries",
        "gridPos": { "x": 12, "y": 6, "w": 12, "h": 6 },
        "targets": [ { "expr": "histogram_quantile(0.95, sum(rate(arbitrex_raw_flush_duration_seconds_bucket[5m])) by (le))", "refId": "A" } ],
        "fieldConfig": { "defaults": { "unit": "s" } }
      },
      {
        "id": 5,
        "title": "Current Queue Depth — EURUSD",
        "type": "stat",
        "gridPos": { "x": 0, "y": 12, "w": 6, "h": 4 },
        "targets": [ { "expr": "max(arbitrex_raw_queue_size{symbol=\"EURUSD\"})", "refId": "A" } ],
        "fieldConfig": { "defaults": { "unit": "none" } }
      },
      {
        "id": 6,
        "title": "Tick Flush Rate (per min)",
        "type": "timeseries",
        "gridPos": { "x": 6, "y": 12, "w": 18, "h": 4 },
        "targets": [ { "expr": "rate(arbitrex_raw_ticks_flushed_total[1m])", "refId": "A" } ]
      }
    ]
  },
  "overwrite": true
}
